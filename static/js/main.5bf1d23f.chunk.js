(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(29),s=n.n(r),o=(n(37),n(9)),i=n(2),l=n(7),u=n.n(l),j=n(12),b=n(4),h=n(11),d=n(30),p=n.n(d).a.create({baseURL:"http://localhost:3333"}),O=(n(56),n.p+"static/media/logo.4f957741.svg"),x=n.p+"static/media/heroes.b413d9df.png";function m(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(i.f)();function l(){return(l=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.post("sessions",{id:n});case 4:a=e.sent,localStorage.setItem("ongId",n),localStorage.setItem("ongName",a.data.name),s.push("/profile"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Falha no login, tente novamente.");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"logon-container",children:[Object(a.jsxs)("section",{className:"form",children:[Object(a.jsx)("img",{src:O,alt:"The Hero Case"}),Object(a.jsxs)("form",{onSubmit:function(e){return l.apply(this,arguments)},children:[Object(a.jsx)("h1",{children:"Fa\xe7a seu logon"}),Object(a.jsx)("input",{placeholder:"Sua ID",value:n,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("button",{className:"button",type:"submit",children:"Entrar"}),Object(a.jsxs)(o.b,{className:"back-link",to:"/bethehero-omnistack-11/register",children:[Object(a.jsx)(h.b,{size:16,color:"#E02041"}),"N\xe3o tenho cadastro"]})]})]}),Object(a.jsx)("img",{src:x,alt:"Heroes"})]})}n(62);function f(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),l=Object(b.a)(s,2),d=l[0],x=l[1],m=Object(c.useState)(""),f=Object(b.a)(m,2),v=f[0],g=f[1],k=Object(c.useState)(""),C=Object(b.a)(k,2),N=C[0],S=C[1],y=Object(c.useState)(""),w=Object(b.a)(y,2),I=w[0],E=w[1],z=Object(i.f)();function D(){return(D=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n,email:d,whatsapp:v,city:N,uf:I},e.prev=2,e.next=5,p.post("ongs",a);case 5:c=e.sent,alert("Seu ID de acesso: ".concat(c.data.id)),z.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Erro no cadastro, tente novamente.");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"register-container",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("section",{children:[Object(a.jsx)("img",{src:O,alt:"The Hero Case"}),Object(a.jsx)("h1",{children:"Cadastro"}),Object(a.jsx)("p",{children:"Fa\xe7a seu cadastro, entre na plataforma e ajude pessoas a encontrarem os casos da sua ONG."}),Object(a.jsxs)(o.b,{className:"back-link",to:"/bethehero-omnistack-11/",children:[Object(a.jsx)(h.a,{size:16,color:"#E02041"}),"Voltar para o logon"]})]}),Object(a.jsxs)("form",{onSubmit:function(e){return D.apply(this,arguments)},children:[Object(a.jsx)("input",{placeholder:"Nome da ONG",value:n,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("input",{type:"email",placeholder:"E-mail",value:d,onChange:function(e){return x(e.target.value)}}),Object(a.jsx)("input",{placeholder:"WhatsApp",value:v,onChange:function(e){return g(e.target.value)}}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{placeholder:"Cidade",value:N,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)("input",{placeholder:"UF",style:{width:80},value:I,onChange:function(e){return E(e.target.value)}})]}),Object(a.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})}n(63);function v(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(i.f)(),l=localStorage.getItem("ongId"),d=localStorage.getItem("ongName");function x(){return(x=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.delete("incidents/".concat(t),{headers:{Authorization:l}});case 3:r(n.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Erro ao deletar caso, tende novamente.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){p.get("/profile",{headers:{Authorization:l}}).then((function(e){r(e.data)}))}),[l]),Object(a.jsxs)("div",{className:"profile-container",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{src:O,alt:"The Hero Case"}),Object(a.jsxs)("span",{children:["Bem vinda, ",d]}),Object(a.jsx)(o.b,{className:"button",to:"/bethehero-omnistack-11/incidents/new",children:"Cadastrar novo caso"}),Object(a.jsx)("button",{onClick:function(){localStorage.clear(),s.push("/")},type:"button",children:Object(a.jsx)(h.c,{size:18,color:"#E02041"})})]}),Object(a.jsx)("h1",{children:"Casos cadastrados"}),Object(a.jsx)("ul",{children:n.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Caso"}),Object(a.jsx)("p",{children:e.title}),Object(a.jsx)("strong",{children:"DESCRI\xc7\xc3O"}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("strong",{children:"VALOR:"}),Object(a.jsx)("p",{children:Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.value)}),Object(a.jsx)("button",{onClick:function(){return function(e){return x.apply(this,arguments)}(e.id)},type:"button",children:Object(a.jsx)(h.d,{size:20,color:"#a8a8b3"})})]},e.id)}))})]})}n(64);function g(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),l=Object(b.a)(s,2),d=l[0],x=l[1],m=Object(c.useState)(""),f=Object(b.a)(m,2),v=f[0],g=f[1],k=Object(i.f)(),C=localStorage.getItem("ongId");function N(){return(N=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:n,description:d,value:v},e.prev=2,e.next=5,p.post("incidents",a,{headers:{Authorization:C}});case 5:k.push("/profile"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("Erro ao cadastrar caso, tente novamente.");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"new-incident-container",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("section",{children:[Object(a.jsx)("img",{src:O,alt:"The Hero Case"}),Object(a.jsx)("h1",{children:"Cadastrar novo caso"}),Object(a.jsx)("p",{children:"Descreva o caso detalhadamente para encontrar um her\xf3i para resolver isso."}),Object(a.jsxs)(o.b,{className:"back-link",to:"/bethehero-omnistack-11/profile",children:[Object(a.jsx)(h.a,{size:16,color:"#E02041"}),"Voltar para home"]})]}),Object(a.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(a.jsx)("input",{placeholder:"T\xedtulo do caso",value:n,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("textarea",{placeholder:"Descri\xe7\xe3o",value:d,onChange:function(e){return x(e.target.value)}}),Object(a.jsx)("input",{placeholder:"Valor em reais",value:v,onChange:function(e){return g(e.target.value)}}),Object(a.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})}function k(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{path:"/bethehero-omnistack-11/",exact:!0,component:m}),Object(a.jsx)(i.a,{path:"/bethehero-omnistack-11/register",component:f}),Object(a.jsx)(i.a,{path:"/bethehero-omnistack-11/profile",component:v}),Object(a.jsx)(i.a,{path:"/bethehero-omnistack-11/incidents/new",component:g})]})})}var C=function(){return Object(a.jsx)(k,{})};s.a.render(Object(a.jsx)(C,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.5bf1d23f.chunk.js.map